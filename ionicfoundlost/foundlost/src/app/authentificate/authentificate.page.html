<ion-header>
  <ion-toolbar class="#002239">
    <ion-title class="ion-text-center">Authentification</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <div class="bg-img">
    <br>
     <div class="logo">&nbsp;</div>
    <ion-card>
      <form [formGroup]="ionicForm" (ngSubmit)="submitForm()" novalidate>
        <ion-item lines="full">
          <ion-label>
            <ion-icon name="mail">
            </ion-icon>
          </ion-label>
          <ion-input type="email" formControlName="email_user" placeholder="Taper votre e-mail"></ion-input>
        </ion-item>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.email_user.errors?.required">
          E-mail requis.
        </span>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.email_user.errors?.pattern">
          Format non valide.
        </span>
        <ion-item lines="full">
          <ion-label>
            <ion-icon name="key"></ion-icon>
          </ion-label>
          <ion-input formControlName="password" [type]="showPassword ? 'text' : 'password'"
            placeholder="Taper votre mot de passe">
          </ion-input>
          <ion-icon slot="end" [name]="passwordToggleIcon" (click)="togglePassword()"></ion-icon>
        </ion-item>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.password.errors?.required">
          Mot de passe requis.
        </span>
        <span class="error ion-padding" *ngIf="isSubmitted && errorControl.password.errors?.pattern">
          - 1 majuscule au minimum<br>
          - 1 minuscule au minimum <br>
          - 1 chiffre au minimum <br>
          - 1 caractère spécial au minimum
        </span>
        <ion-button expand="block" type="submit" class="color" color="#002239">
          <ion-icon name="person-add" class="ion-text-center"></ion-icon>
        </ion-button>
        <ion-button expand="block" (click)="control()" class="color"color="#002239">
          <ion-icon name="log-in"></ion-icon>
        </ion-button>
        <ion-button expand="block" type="reset" class="color" color="#002239">
          <ion-icon name="refresh-circle-outline"></ion-icon>
        </ion-button>
        <label for="recover">Recover</label>
        <input type="checkbox" [checked]="showRecover==true" (click)="toggleRecover()"> 
       
        
        <span class="recover" *ngIf="showRecover==true">
         <img src="http://localhost/ionicserver/captcha.php" alt="">
         <ion-input type="text" placeholder="Recopier le Captcha">
          <img class="icone" src="../../assets/captcha.png" alt="">
         </ion-input>
          <ion-input formControlName="passwordVerify" [type]="showPassword ? 'text' : 'password'"
            placeholder="Retaper votre mot de passe">
            <ion-label>
              <ion-icon name="key"></ion-icon>
            </ion-label>
          </ion-input>
          <span class="error ion-padding" *ngIf="isSubmitted && controlPassword()">
            Mot de pass différent.
          </span>
        </span>
      </form>
    </ion-card>
  </div>
</ion-content>